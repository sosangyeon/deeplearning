Abstract
3D 복셀 cnn과 pointnet 기반 집합 추상ㅇ화를 긴밀하게 통합하여 차별적인 포인트 클라우드 기능을 학습한다.
voxel cnn에 의해 생성된 고품질 3d proposal를 감안할 때, polgrid pooling은 여러 수용 필드를 가진
키포인트 세트 추상화를 통해 키포인트에서 rol-그리드 포인트까지 제안서별 기능을 추상화하도록 제안된다.
기존의 풀링 작업과 비교했을 때, rol-grid 특징점은 객체 신뢰도와 위치를 정확하게 추정하기 위해 훨씬 더 풍부한 컨텍스트 정보를 인코딩한다.

1. Introduction
Lidar 센서는 3D 장면 인식 및 이해를 위한 중요한 단서를 제공하는 희박하고 불규칙한 포인트 클라우드로 3D 장면 정보를 
3D 검출 방법은 포인트 클라우드 표현 측면에서 두 가지 범주, 그리드 기반 방법과 포인트 기반 방법으로 분류할 수 있다.

그리드 기반 방법
불규칙한 포인트 클라우드를 3D 복셀 또는 2D bev과 같은 규칙적인 표현으로 변환하며, 이는 3D 또는 2D cnn에서 효율적으로
처리하여 3D 감지를 위한 포인트 기능을 학습할 수 있다.

포인트 기반 방법
3D 감지를 위해 원시 포인트 클라우드에서 판별 특징을 직접 추출한다.

일반적으로 그리드 기반 방법은 계산 효율성이 높지만 불가피한 정보 손실로 인해 세분화된 지역화 정확도가 저하되는 반면,
포인트 기반 방법은 계산 비용이 높지만 포인트 세트 추상화에 의해 더 큰 수용 필드를 쉽게 얻을 수 있다.
pv-rcnn은 두 가지 유형의 방법 중 장점을 합하여 3D 검출 성능을 향상시켰다.

pv-rcnn의 원리는 복셀 기반 작업이 다중 스케일 기능 표현을 효율적으로 인코딩하고, pointnet 기반 집합 추상화 작업은
유연한 수용 필드로 정확한 위치 정보를 보존한다.
이 두 가지 유형의 기능 학습 프레임워크의 통합이 정확하고 세분화된 상자 미세 조정을 위해 더 차별적인 기능을 학습하는데
도움이 될 수 있다고 주장한다.

직관적인 솔루션은 각 3D proposal 내에서 여러 그리드 포인트를 균일하게 샘플링하고 세트 추상화를 채택하여 
proposal 개선을 위해 이러한 그리드 포인트를 둘러싼 3D 복셀 단위 기능을 집계하는 것이다.
-> 단점 : 복셀의 수와 그리드 점의 수가 모두 크기 때문에 메모리 사용량이 매우 많다.

따라서 두 가지 유형의 학습 네트워크를 더 잘 통합하기 위해 
1. 복셀-키포인트 장면 인코딩 단계
2. 키포인트-그리드 rol 기능 추상화 단계
2단계 전략을 제안한다.

1) 복셀-키포인트 장면 인코딩 단계
3D 복셀 cnn이 채택되어 전체 장면을 인코딩하는데 너무 많은 복셀이 필요한 문제를 완화하기 위해 fps에 의해 작은 키포인트 집합이
선택되어 복셀별 기능의 전체 3D 정보를 요약한다.
각 키포인트의 특징은 다중 스케일 포인트 클라우드 정보를 요약하기 위해 pointnet 기반 집합 추상화를 통해 인접한 복셀 단위 기능을 그룹화하여 집계된다.
-> 장면을 복셀 단위로 나누고 이 중에서 중요한 키포인트들만 선택
이 키포인트들은 장면의 중요한 부분을 대표하며, 각각의 키포인트가 그 주변 복셀들의 정보를 요약하여 전체 3D 정보를 압축하는 역할
하나의 고정된 크기에서만 주변 정보를 수집하는 것이 아니라, 다양한 크기(스케일)에서 주변 점들을 살펴본다.
더 작은 범위의 세부 정보부터 더 넓은 범위의 전반적인 정보까지를 효과적으로 포착할 수 있다.
키포인트는 자신을 중심으로 인접한 복셀들을 그룹으로 묶는다. 
그 복셀들 각각이 가지고 있는 정보를 하나의 집합으로 모으고, 이를 바탕으로 키포인트의 특징을 요약한다.
이러한 방식으로, 전체 장면은 연관된 다중 스케일 기능이 있는 소수의 키포인트에 의해 효과적이고 효율적인
인코딩이 될 수 있다.

2) 키포인트-그리드 rol 추상화 단계
그리드 포인트 위치가 있는 각 박스 제안이 주어지면 rol-그리드 풀링 모듈이 제안되며, 여기서 각 그리드 포인트에 대해
여러 반경을 가진 키포인트 세트 추상화 계층이 채택되어 다중 스케일 컨텍스트를 가진 키포인트의 기능을 집계한다.
그런 다음 모든 그리트 포인트의 집계된 피쳐를 후속 제안서 미세 조정에 공동으로 사용할 수 있다.
RoI(Region of Interest) : 특정 물체가 있을 것으로 예상되는 영역
그리드 포인트 : 박스 내부에 그리드 형태로 점들을 놓는다. 이 그리드 포인트들은 박스 내에서 중요한 지점을 나타내며, 
각 포인트는 그 위치의 특찡을 나타낼 정보를 모으게 된다.
RoI-그리드 풀링 모듈은 각 그리드 포인트에 대해 주변 키퐁인트들의 특징을 추출하고 요약하는 과정이다.
여기서 RoI-그리드 풀링은 다중 스케일 컨텍스트를 활용하여 풍부한 정보를 요약한다.
마지막으로, 그리드 포인트들에서 요약된 피처들은 박스 제안의 미세 조정에 사용된다. 즉, 처음에 제안된 박스는 대략적인 
물체 위치일 수 있지만, 그리드 포인트에서 모든 피처들을 바탕으로 더욱 정확하게 박스의 위치와 크길를 조정할 수 있다.

contribution
1) 3D 포인트 클라우드 기능 학습을 위해 복셀 기반 방법과 포인트 기반 방법을 모두 효과적으로 활용하여 관리 가능한 
메모리 소비로 3D 객체 감지 성능을 향상시키는 pv-rcnn 프레임워크를 제안한다.
2) 전체 장면의 다중 스케일 복셀 기능을 복셀 세트 추상화 계층에 의해 작은 키포인트 세트로 인코딩하는 voxel-keypoint 장면 인코딩 체계를 제안한다.
3) 각 제안서에서 그리드 포인트에 대한 다중 스케일 rol 기능 추상화 계층을 제안하며, 이는 정확한 상자 미세 조정 및 
신뢰도 예측을 위해 여러 수용 필드가 있는 장면에서 더 풍부한 컨텍스트 정보를 집계한다.

2. Related Work
3D Object Detection with Grid-based Methods
포인트 클라우드의 불규칙한 데이터 형식을 다루기 위해 대부분의 기존 작업은 포인트 클라우드를 일반 그리드에 투영하여 
2D 또는 3D cnn에서 처리한다. 
선구적인 작업인 mv3d는 포인트 클라우드를 2d bev 그리드에 투영하고 3D 바운딩 박스를 생성하기 위해 사전 정의된 3D 앵커를
많이 배치한다.
일부 다른 작업은 포인트 클라우드를 3D cnn에서 처리할 3d 복셀로 나누고, 효율적인 3d 복셀 처리를 위해 3d 희소 컨볼루션을 도입한다.
이러한 그리드 기반 방법은 일반적으로 정확한 3d 제안서 생성에 효율적이지만 수용 필드는 커널 크기에 의해 제한된다.

3D Object Detection with Point-based Methods
pointnet은 먼저 2d 이미지 바운딩 박스를 기반으로 잘린 포인트 클라우드에서 3d 감지를 위해 pointnet를 적용할 것을 제안한다.
pointrcnn은 포인트 클라우드만을 사용한 3d 검출을 위해 2d 이미지 대신 전체 포인트 클라우드에서 직접 3d 제안서를 생성하며, 
STD는 더 나은 제안서 구체화를 위해 희소에서 조밀 전략을 제안한다.
더 나은 객체 기능 그룹화를 위한 hough 투표 전략을 제안한다.
이러한 포인트 기반 방법은 대부분 pointnet 시리즈, 유연한 수용 필드를 가능하게 하는 집합 추상화 작업을 기반으로 한다.

Representation Learning on Point Clouds
최근 포인트 클라우드에 대한 표현 학습은 포인트 클라우드 분류 및 세분화의 성능을 향상시키는데 많은 주목을 받고 있다.
3D 감지 측면에서 이전 방법은 일반적으로 2D/3D cnn으로 포인트 클라우드를 처리하기 위해 포인트 클라우드를 일반 bev
또는 3D 복셀에 투영한다.
pointnet이 원시 포인트 클라우드로부터 포인트별 특징을 직접 학습할 것을 제안하며, 여기서 집합 추상화 연산은 
2개의 서로 다른 검색 반경을 설정하여 유연한 수용 필드를 가능하게 한다.
효율적인 포인트 클라우드 기능 학습을 위해 복셀 기반 cnn과 포인트 기반 sharedmlp를 결합한다.

3. PV-RCNN for Point Cloud Object Detection
2단계 3D 감지 프레임워크인 pointvoxel-rcnn을 제안한다. 
최첨단 3D 검출 접근 방식은 희소 컨볼루션을 사용하는 3D 복셀 cnn 또는 pointnet 기반 네트워크를 백본으로 한다.
일반적으로 희소 컨볼루션을 사용하는 3D 복셀 cnn이 더 효율적이고 고품질 3D 객체 제안을 생성할 수 있는 반면, 
pointnet 기반 방법은 유연한 수용 필드로 더 정확한 컨텍스트 정보를 캡처할 수 있다.
pv-rcnn은 두 가지 유형의 네트워크의 장점을 긴밀하게 통합한다. 
pv-rcnn은 효율적인 기능 인코딩 및 제안서 생성을 위한 백본으로 희소 커볼루션이 있는 '3D 복셀 cnn'으로 구성된다. 
각 3d 개체 제안이 주어지면 장면에서 해당 기능을 효과적으로 풀링하기 위해 두 가지 새로운 작업,
1) 복셀-키포인트 장면 인코딩 2) 포인트-그리드 RoI 기능 추상화
복셀-키포인트 장면 인코딩 : 복셀-키포인트 장면 인코딩
복셀-키포인트 장면 인코딩 제안 : 제안서 신뢰도 예측 및 위치 구체화를 위해 장면 키포인트 기능을 RoI 그리드에 효과적으로 집계















